<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Writing Assistant - Opinian</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/splitting@1.0.6/dist/splitting.css">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* Noir Color Palette */
            --noir-black: #0a0a0a;
            --noir-charcoal: #1a1a1a;
            --noir-dark-gray: #2d2d2d;
            --noir-gray: #4a4a4a;
            --noir-light-gray: #8a8a8a;
            --noir-cream: #f8f6f0;
            --noir-ivory: #faf8f3;
            --noir-gold: #d4af37;
            --noir-burgundy: #722f37;
            --noir-deep-burgundy: #5a2429;
            --noir-shadow: rgba(0, 0, 0, 0.8);
            --noir-gold-glow: rgba(212, 175, 55, 0.3);
            
            /* Typography */
            --font-serif: 'Playfair Display', serif;
            --font-sans: 'Inter', sans-serif;
            
            /* Spacing */
            --container-max: 1400px;
            --section-padding: 120px 0;
            --element-spacing: 2rem;
            
            /* Transitions */
            --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-quick: all 0.2s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background: linear-gradient(135deg, var(--noir-black) 0%, var(--noir-charcoal) 100%);
            color: var(--noir-cream);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--noir-gold);
            z-index: 1000;
            padding: 1rem 0;
            transition: var(--transition-smooth);
        }

        .nav-container {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: var(--font-serif);
            font-size: 2rem;
            font-weight: 700;
            color: var(--noir-gold);
            text-decoration: none;
            letter-spacing: 0.1em;
            text-shadow: 0 0 20px var(--noir-gold-glow);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--noir-cream);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition-quick);
            position: relative;
        }

        .nav-links a:hover {
            color: var(--noir-gold);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--noir-gold);
            transition: var(--transition-quick);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* AI Tools Page */
        .ai-tools-page {
            padding: 120px 0 80px;
            min-height: 100vh;
        }

        .page-header {
            max-width: var(--container-max);
            margin: 0 auto 4rem;
            padding: 0 2rem;
            text-align: center;
        }

        .page-title {
            font-family: var(--font-serif);
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            color: var(--noir-gold);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .page-subtitle {
            color: var(--noir-light-gray);
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.7;
        }

        /* AI Generator Container */
        .ai-generator {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: 0 2rem;
        }

        .generator-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .generator-header h2 {
            font-family: var(--font-serif);
            font-size: 2.5rem;
            color: var(--noir-gold);
            margin-bottom: 1rem;
        }

        .generator-header p {
            color: var(--noir-light-gray);
            font-size: 1.1rem;
        }

        .generator-controls {
            background: linear-gradient(145deg, var(--noir-dark-gray), var(--noir-charcoal));
            border: 2px solid var(--noir-gold);
            border-radius: 0;
            padding: 2rem;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }

        .generator-controls::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--noir-gold), var(--noir-burgundy), var(--noir-gold));
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .prompt-selector {
            margin-bottom: 1.5rem;
        }

        .prompt-selector label {
            display: block;
            color: var(--noir-gold);
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .form-control {
            width: 100%;
            background: var(--noir-black);
            border: 1px solid var(--noir-gold);
            color: var(--noir-cream);
            padding: 0.75rem;
            border-radius: 0;
            font-size: 1rem;
            transition: var(--transition-quick);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--noir-gold);
            box-shadow: 0 0 0 2px var(--noir-gold-glow);
        }

        .input-section {
            margin-bottom: 1.5rem;
        }

        .input-section label {
            display: block;
            color: var(--noir-gold);
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .input-section textarea {
            min-height: 120px;
            resize: vertical;
            font-family: var(--font-sans);
        }

        .advanced-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .option-group label {
            display: block;
            color: var(--noir-gold);
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .generation-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 0;
            font-family: var(--font-sans);
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition-smooth);
            cursor: pointer;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--noir-gold);
            color: var(--noir-black);
            border: 2px solid var(--noir-gold);
        }

        .btn-primary:hover {
            background: transparent;
            color: var(--noir-gold);
            box-shadow: 0 0 30px var(--noir-gold-glow);
        }

        .btn-primary:disabled {
            background: var(--noir-gray);
            border-color: var(--noir-gray);
            color: var(--noir-dark-gray);
            cursor: not-allowed;
            box-shadow: none;
        }

        .btn-secondary {
            background: transparent;
            color: var(--noir-cream);
            border: 2px solid var(--noir-cream);
        }

        .btn-secondary:hover {
            background: var(--noir-cream);
            color: var(--noir-black);
        }

        .btn-secondary:disabled {
            border-color: var(--noir-gray);
            color: var(--noir-gray);
            cursor: not-allowed;
        }

        .btn-outline {
            background: transparent;
            color: var(--noir-gold);
            border: 2px solid var(--noir-gold);
        }

        .btn-outline:hover {
            background: var(--noir-gold);
            color: var(--noir-black);
        }

        .btn-outline:disabled {
            border-color: var(--noir-gray);
            color: var(--noir-gray);
            cursor: not-allowed;
        }

        /* Generation Results */
        .generation-results {
            background: linear-gradient(145deg, var(--noir-dark-gray), var(--noir-charcoal));
            border: 1px solid var(--noir-gold);
            border-radius: 0;
            margin-bottom: 3rem;
            overflow: hidden;
        }

        .results-header {
            background: var(--noir-black);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--noir-gold);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .results-header h3 {
            font-family: var(--font-serif);
            color: var(--noir-gold);
            font-size: 1.5rem;
            margin: 0;
        }

        .result-actions {
            display: flex;
            gap: 1rem;
        }

        .generation-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 4rem 2rem;
            color: var(--noir-light-gray);
        }

        .spinner {
            width: 30px;
            height: 30px;
            border: 3px solid var(--noir-gray);
            border-top: 3px solid var(--noir-gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .generated-content {
            padding: 2rem;
            min-height: 300px;
        }

        .content-result {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .content-header h4 {
            font-family: var(--font-serif);
            color: var(--noir-gold);
            font-size: 1.8rem;
            line-height: 1.3;
            margin: 0;
        }

        .content-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.9rem;
            color: var(--noir-light-gray);
            flex-shrink: 0;
        }

        .content-body {
            color: var(--noir-cream);
            line-height: 1.8;
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .content-body h2 {
            font-family: var(--font-serif);
            color: var(--noir-gold);
            margin: 2rem 0 1rem;
        }

        .content-body p {
            margin-bottom: 1.5rem;
        }

        .content-suggestions {
            background: var(--noir-black);
            border: 1px solid var(--noir-gold);
            padding: 1.5rem;
            border-radius: 0;
        }

        .content-suggestions h5 {
            color: var(--noir-gold);
            margin-bottom: 1rem;
            font-family: var(--font-serif);
        }

        .content-suggestions ul {
            color: var(--noir-light-gray);
            padding-left: 1.5rem;
        }

        .content-suggestions li {
            margin-bottom: 0.5rem;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4rem 2rem;
            color: var(--noir-light-gray);
            text-align: center;
        }

        .empty-state i {
            font-size: 4rem;
            color: var(--noir-gray);
            margin-bottom: 1rem;
        }

        .empty-state p {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .empty-state small {
            font-size: 0.9rem;
            color: var(--noir-gray);
        }

        /* History Section */
        .generation-history {
            background: linear-gradient(145deg, var(--noir-dark-gray), var(--noir-charcoal));
            border: 1px solid var(--noir-gold);
            border-radius: 0;
            padding: 2rem;
        }

        .generation-history h3 {
            font-family: var(--font-serif);
            color: var(--noir-gold);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        .history-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .history-item {
            background: var(--noir-black);
            border: 1px solid var(--noir-gray);
            padding: 1.5rem;
            border-radius: 0;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            transition: var(--transition-quick);
        }

        .history-item:hover {
            border-color: var(--noir-gold);
            box-shadow: 0 0 20px var(--noir-gold-glow);
        }

        .history-content {
            flex: 1;
            margin-right: 1rem;
        }

        .history-content h5 {
            color: var(--noir-gold);
            margin-bottom: 0.5rem;
            font-family: var(--font-serif);
        }

        .history-topic {
            color: var(--noir-light-gray);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .history-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.8rem;
            color: var(--noir-gray);
        }

        .history-actions {
            display: flex;
            gap: 0.5rem;
            flex-shrink: 0;
        }

        .btn-icon {
            width: 32px;
            height: 32px;
            border: 1px solid var(--noir-gray);
            background: var(--noir-dark-gray);
            color: var(--noir-cream);
            border-radius: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-quick);
            font-size: 0.8rem;
        }

        .btn-icon:hover {
            background: var(--noir-gold);
            color: var(--noir-black);
            border-color: var(--noir-gold);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1001;
            padding: 2rem;
        }

        .modal-content {
            background: linear-gradient(145deg, var(--noir-charcoal), var(--noir-dark-gray));
            border: 2px solid var(--noir-gold);
            border-radius: 0;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            background: var(--noir-black);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--noir-gold);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            color: var(--noir-gold);
            font-family: var(--font-serif);
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--noir-cream);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: var(--noir-gold);
        }

        .modal-body {
            padding: 2rem;
        }

        .export-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .export-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .export-option input[type="radio"] {
            accent-color: var(--noir-gold);
        }

        .export-option span {
            color: var(--noir-cream);
        }

        .export-filename {
            margin-bottom: 2rem;
        }

        .export-filename label {
            display: block;
            color: var(--noir-gold);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .modal-actions {
            background: var(--noir-black);
            padding: 1.5rem 2rem;
            border-top: 1px solid var(--noir-gold);
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 100px;
            right: 2rem;
            padding: 1rem 1.5rem;
            border-radius: 0;
            color: var(--noir-cream);
            font-weight: 500;
            z-index: 1002;
            transform: translateX(100%);
            transition: var(--transition-smooth);
            border-left: 4px solid;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-success {
            background: var(--noir-charcoal);
            border-left-color: #4ade80;
        }

        .notification-error {
            background: var(--noir-charcoal);
            border-left-color: #ef4444;
        }

        .notification-warning {
            background: var(--noir-charcoal);
            border-left-color: #f59e0b;
        }

        .notification-info {
            background: var(--noir-charcoal);
            border-left-color: var(--noir-gold);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .advanced-options {
                grid-template-columns: 1fr;
            }

            .generation-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .results-header {
                flex-direction: column;
                align-items: stretch;
            }

            .result-actions {
                justify-content: center;
            }

            .content-header {
                flex-direction: column;
                align-items: stretch;
            }

            .content-meta {
                justify-content: flex-start;
            }

            .history-item {
                flex-direction: column;
                align-items: stretch;
            }

            .history-actions {
                justify-content: flex-end;
                margin-top: 1rem;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--noir-charcoal);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--noir-gold);
            border-radius: 0;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--noir-burgundy);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">Opinian</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="blog.html">Blogs</a></li>
                <li><a href="ai-tools.html">AI Assistant</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="login.html" class="btn btn-secondary">Logout</a></li>
            </ul>
        </div>
    </nav>

    <!-- AI Tools Page -->
    <div class="ai-tools-page">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title">AI Writing Assistant</h1>
            <p class="page-subtitle">
                Enhance your storytelling with intelligent suggestions, idea generation, 
                and content optimization powered by advanced AI.
            </p>
        </div>

        <!-- AI Generator -->
        <div class="ai-generator" id="aiGenerator">
            <!-- Content will be populated by JavaScript -->
        </div>
    </div>

    <script>
        // Initialize AI Generator when page loads
        document.addEventListener('DOMContentLoaded', function() {
            window.aiGenerator = new AIGenerator('aiGenerator');

            // Add page-specific animations
            anime({
                targets: '.page-header',
                opacity: [0, 1],
                translateY: [30, 0],
                duration: 800,
                delay: 200,
                easing: 'easeOutCubic'
            });

            anime({
                targets: '.ai-generator',
                opacity: [0, 1],
                translateY: [50, 0],
                duration: 1000,
                delay: 400,
                easing: 'easeOutCubic'
            });
        });

        // AI Generator Class (simplified version for this page)
        class AIGenerator {
            constructor(containerId) {
                this.container = document.getElementById(containerId);
                this.currentPrompt = null;
                this.generationHistory = [];
                this.init();
            }

            init() {
                this.createUI();
                this.loadPrompts();
                this.setupEventListeners();
            }

            createUI() {
                this.container.innerHTML = `
                    <div class="generator-header">
                        <h2>AI Content Assistant</h2>
                        <p>Let AI help you create compelling blog content</p>
                    </div>
                    
                    <div class="generator-controls">
                        <div class="prompt-selector">
                            <label for="promptType">Content Type:</label>
                            <select id="promptType" class="form-control">
                                <option value="">Select a content type...</option>
                                <option value="blog-ideas" data-category="content-creation">Blog Idea Generator</option>
                                <option value="content-enhancement" data-category="enhancement">Content Enhancement</option>
                                <option value="story-outline" data-category="planning">Story Outline Creator</option>
                                <option value="character-development" data-category="creative">Character Development</option>
                                <option value="noir-style" data-category="style">Noir Style Writing</option>
                                <option value="blog-intro" data-category="content-creation">Blog Introduction</option>
                                <option value="blog-conclusion" data-category="content-creation">Blog Conclusion</option>
                            </select>
                        </div>
                        
                        <div class="input-section">
                            <label for="topicInput">Topic or Keywords:</label>
                            <textarea id="topicInput" class="form-control" 
                                      placeholder="Enter your blog topic, keywords, or rough ideas..."></textarea>
                        </div>
                        
                        <div class="advanced-options">
                            <div class="option-group">
                                <label for="toneSelect">Writing Style:</label>
                                <select id="toneSelect" class="form-control">
                                    <option value="professional">Professional</option>
                                    <option value="casual">Casual</option>
                                    <option value="academic">Academic</option>
                                    <option value="creative">Creative</option>
                                    <option value="noir" selected>Noir & Mystery</option>
                                    <option value="journalistic">Journalistic</option>
                                    <option value="conversational">Conversational</option>
                                </select>
                            </div>
                            
                            <div class="option-group">
                                <label for="lengthSelect">Content Length:</label>
                                <select id="lengthSelect" class="form-control">
                                    <option value="short">Short (300-500 words)</option>
                                    <option value="medium" selected>Medium (800-1200 words)</option>
                                    <option value="long">Long (1500-2500 words)</option>
                                </select>
                            </div>
                            
                            <div class="option-group">
                                <label for="audienceSelect">Target Audience:</label>
                                <select id="audienceSelect" class="form-control">
                                    <option value="general">General Audience</option>
                                    <option value="beginners">Beginners</option>
                                    <option value="intermediate">Intermediate</option>
                                    <option value="advanced">Advanced</option>
                                    <option value="professionals">Professionals</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="generation-controls">
                            <button type="button" id="generateBtn" class="btn btn-primary">
                                <i class="fas fa-magic"></i> Generate Content
                            </button>
                            <button type="button" id="enhanceBtn" class="btn btn-secondary" disabled>
                                <i class="fas fa-wand-magic-sparkles"></i> Enhance Existing
                            </button>
                        </div>
                    </div>
                    
                    <div class="generation-results">
                        <div class="results-header">
                            <h3>Generated Content</h3>
                            <div class="result-actions">
                                <button type="button" id="exportBtn" class="btn btn-outline" disabled>
                                    <i class="fas fa-download"></i> Export
                                </button>
                                <button type="button" id="useInEditorBtn" class="btn btn-primary" disabled>
                                    <i class="fas fa-edit"></i> Use in Editor
                                </button>
                            </div>
                        </div>
                        
                        <div class="generation-status" id="generationStatus" style="display: none;">
                            <div class="spinner"></div>
                            <span>Generating content...</span>
                        </div>
                        
                        <div class="generated-content" id="generatedContent">
                            <div class="empty-state">
                                <i class="fas fa-file-alt"></i>
                                <p>Your generated content will appear here</p>
                                <small>Fill in the details above and click "Generate Content" to get started</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="generation-history">
                        <h3>Recent Generations</h3>
                        <div class="history-list" id="historyList">
                            <div class="empty-state">
                                <p>No previous generations</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            loadPrompts() {
                // Mock prompts data
                const prompts = [
                    {
                        id: 'blog-ideas',
                        name: 'Blog Idea Generator',
                        category: 'content-creation',
                        description: 'Generate unique blog post ideas',
                        promptTemplate: 'Generate 5 unique blog post ideas about {topic} for a {style} blog. Include engaging titles and brief descriptions.',
                        variables: ['topic', 'style'],
                        isActive: true,
                        usageCount: 1247
                    },
                    {
                        id: 'content-enhancement',
                        name: 'Content Enhancement',
                        category: 'enhancement',
                        description: 'Improve existing content',
                        promptTemplate: 'Enhance the following content to make it more engaging and professional: {content}',
                        variables: ['content'],
                        isActive: true,
                        usageCount: 892
                    }
                ];

                this.populatePromptSelector(prompts);
            }

            populatePromptSelector(prompts) {
                const select = this.container.querySelector('#promptType');
                select.innerHTML = '<option value="">Select a content type...</option>';
                
                prompts.forEach(prompt => {
                    const option = document.createElement('option');
                    option.value = prompt.id;
                    option.textContent = prompt.name;
                    option.dataset.category = prompt.category;
                    select.appendChild(option);
                });
            }

            setupEventListeners() {
                this.container.querySelector('#generateBtn').addEventListener('click', () => {
                    this.generateContent();
                });

                this.container.querySelector('#enhanceBtn').addEventListener('click', () => {
                    this.enhanceContent();
                });

                this.container.querySelector('#exportBtn').addEventListener('click', () => {
                    this.exportContent();
                });

                this.container.querySelector('#useInEditorBtn').addEventListener('click', () => {
                    this.useInEditor();
                });

                this.container.querySelector('#promptType').addEventListener('change', (e) => {
                    this.onPromptTypeChange(e.target.value);
                });
            }

            async generateContent() {
                const promptType = this.container.querySelector('#promptType').value;
                const topic = this.container.querySelector('#topicInput').value;
                const tone = this.container.querySelector('#toneSelect').value;
                const length = this.container.querySelector('#lengthSelect').value;
                const audience = this.container.querySelector('#audienceSelect').value;

                if (!promptType) {
                    this.showNotification('Please select a content type', 'warning');
                    return;
                }

                if (!topic.trim()) {
                    this.showNotification('Please enter a topic or keywords', 'warning');
                    return;
                }

                this.showGenerationStatus(true);

                try {
                    // Simulate AI generation
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    const generatedContent = this.generateMockContent(promptType, topic, tone, length, audience);
                    
                    this.displayGeneratedContent(generatedContent);
                    this.addToHistory(generatedContent, topic);
                    this.enableResultActions();
                    
                } catch (error) {
                    console.error('Generation error:', error);
                    this.showNotification('Failed to generate content', 'error');
                } finally {
                    this.showGenerationStatus(false);
                }
            }

            generateMockContent(promptType, topic, tone, length, audience) {
                const mockContent = {
                    id: Date.now().toString(),
                    title: '',
                    content: '',
                    wordCount: 0,
                    readingTime: 0,
                    suggestions: []
                };

                // Generate different content based on prompt type
                switch (promptType) {
                    case 'blog-ideas':
                        mockContent.title = `Blog Ideas: ${topic}`;
                        mockContent.content = `
                            <h2>1. "Shadows and ${topic}: A Modern Noir Perspective"</h2>
                            <p>Explore how ${topic} influences contemporary storytelling through the lens of noir aesthetics. This piece would examine the intersection of classic detective fiction with modern digital narratives.</p>

                            <h2>2. "The Art of ${topic} in Digital Storytelling"</h2>
                            <p>Discover techniques for incorporating ${topic} into your blog while maintaining the sophisticated, mysterious tone that readers crave. Perfect for content creators looking to add depth to their work.</p>

                            <h2>3. "${topic.charAt(0).toUpperCase() + topic.slice(1)}: Where Mystery Meets Innovation"</h2>
                            <p>A comprehensive guide to understanding ${topic} through the noir framework, complete with practical examples and actionable insights for modern writers.</p>

                            <h2>4. "The Psychology of ${topic} in Narrative"</h2>
                            <p>Delve into the psychological aspects of ${topic} and how they can enhance the suspense and intrigue in your storytelling, making your content more compelling.</p>

                            <h2>5. "${topic.charAt(0).toUpperCase() + topic.slice(1)} Through Time: A Noir Evolution"</h2>
                            <p>Trace the development of ${topic} from classic noir films to contemporary digital media, exploring how the aesthetic has evolved while maintaining its core appeal.</p>
                        `;
                        mockContent.wordCount = 856;
                        mockContent.suggestions = [
                            "Consider adding personal anecdotes to make the content more relatable",
                            "Include specific examples from classic noir films or literature",
                            "Research current trends in digital storytelling for contemporary relevance"
                        ];
                        break;

                    case 'content-enhancement':
                        mockContent.title = `Enhanced: ${topic.substring(0, 50)}...`;
                        mockContent.content = `
                            <p>In the shadowy realm where ${topic} meets digital innovation, every narrative thread weaves a tale of mystery and sophistication. The art of storytelling transcends mere words, creating an atmosphere thick with intrigue and psychological depth.</p>

                            <p>Consider this: when ${topic} influences modern content creation, it brings with it the weight of decades of literary tradition. The noir aesthetic isn't merely about darkness—it's about the interplay of light and shadow, truth and deception, clarity and ambiguity.</p>

                            <p>The true mastery lies not in the obvious, but in the subtle. Like a detective following cryptic clues through rain-soaked streets, the modern content creator must navigate the complex landscape of audience expectations, technological possibilities, and artistic vision.</p>

                            <p>Every element serves the greater narrative. The pacing builds tension. The language creates atmosphere. The structure guides the reader through a journey of discovery, where each revelation leads to deeper questions.</p>

                            <p>This is the essence of sophisticated storytelling in the digital age—where the tools may be modern, but the principles remain timeless.</p>
                        `;
                        mockContent.wordCount = 623;
                        mockContent.suggestions = [
                            "Added noir-specific vocabulary and imagery",
                            "Improved sentence structure for better flow",
                            "Enhanced atmospheric elements",
                            "Strengthened the narrative voice"
                        ];
                        break;

                    default:
                        mockContent.title = `Generated Content: ${topic}`;
                        mockContent.content = `
                            <h2>The ${topic.charAt(0).toUpperCase() + topic.slice(1)} Revolution</h2>
                            <p>In an era defined by constant change and digital transformation, ${topic} emerges as a beacon of creativity and innovation. This comprehensive exploration delves into the multifaceted nature of ${topic} and its profound impact on contemporary culture.</p>

                            <p>The journey begins with understanding the fundamental principles that govern ${topic}. Like the intricate plot of a classic noir film, each element interconnects to create a larger narrative that speaks to our collective experience.</p>

                            <p>Through careful analysis and thoughtful reflection, we uncover the hidden patterns and underlying themes that make ${topic} such a compelling subject for modern storytellers and content creators alike.</p>

                            <p>The conclusion reveals not just the surface-level appeal of ${topic}, but its deeper significance in our ongoing cultural conversation about creativity, technology, and human connection in the digital age.</p>
                        `;
                        mockContent.wordCount = 432;
                        mockContent.suggestions = [
                            "Consider adding specific examples",
                            "Include relevant statistics or data",
                            "Add personal insights or experiences"
                        ];
                }

                mockContent.readingTime = Math.ceil(mockContent.wordCount / 200);
                return mockContent;
            }

            displayGeneratedContent(content) {
                const container = this.container.querySelector('#generatedContent');
                
                container.innerHTML = `
                    <div class="content-result">
                        <div class="content-header">
                            <h4>${content.title}</h4>
                            <div class="content-meta">
                                <span class="word-count">${content.wordCount} words</span>
                                <span class="reading-time">${content.readingTime} min read</span>
                            </div>
                        </div>
                        
                        <div class="content-body">
                            ${content.content}
                        </div>
                        
                        ${content.suggestions.length > 0 ? `
                            <div class="content-suggestions">
                                <h5>Suggestions for Improvement</h5>
                                <ul>
                                    ${content.suggestions.map(suggestion => `<li>${suggestion}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                    </div>
                `;
            }

            addToHistory(content, topic) {
                const historyItem = {
                    id: content.id,
                    topic: topic,
                    title: content.title,
                    content: content.content,
                    timestamp: new Date().toISOString(),
                    wordCount: content.wordCount
                };

                this.generationHistory.unshift(historyItem);
                
                if (this.generationHistory.length > 10) {
                    this.generationHistory = this.generationHistory.slice(0, 10);
                }

                this.updateHistoryDisplay();
            }

            updateHistoryDisplay() {
                const historyList = this.container.querySelector('#historyList');
                
                if (this.generationHistory.length === 0) {
                    historyList.innerHTML = `
                        <div class="empty-state">
                            <p>No previous generations</p>
                        </div>
                    `;
                    return;
                }

                historyList.innerHTML = this.generationHistory.map(item => `
                    <div class="history-item" data-id="${item.id}">
                        <div class="history-content">
                            <h5>${item.title}</h5>
                            <p class="history-topic">${item.topic}</p>
                            <div class="history-meta">
                                <span class="history-date">${new Date(item.timestamp).toLocaleDateString()}</span>
                                <span class="history-words">${item.wordCount} words</span>
                            </div>
                        </div>
                        <div class="history-actions">
                            <button type="button" class="btn-icon" onclick="window.aiGenerator.loadFromHistory('${item.id}')" title="Load">
                                <i class="fas fa-upload"></i>
                            </button>
                            <button type="button" class="btn-icon" onclick="window.aiGenerator.deleteFromHistory('${item.id}')" title="Delete">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            loadFromHistory(itemId) {
                const item = this.generationHistory.find(h => h.id === itemId);
                if (item) {
                    this.displayGeneratedContent(item);
                    this.enableResultActions();
                    
                    this.container.querySelector('#topicInput').value = item.topic;
                }
            }

            deleteFromHistory(itemId) {
                this.generationHistory = this.generationHistory.filter(h => h.id !== itemId);
                this.updateHistoryDisplay();
            }

            enableResultActions() {
                this.container.querySelector('#exportBtn').disabled = false;
                this.container.querySelector('#useInEditorBtn').disabled = false;
            }

            showGenerationStatus(show) {
                const status = this.container.querySelector('#generationStatus');
                status.style.display = show ? 'flex' : 'none';
            }

            async exportContent() {
                const content = this.container.querySelector('#generatedContent .content-body');
                if (!content) return;

                const title = this.container.querySelector('#generatedContent h4')?.textContent || 'Generated Content';
                const textContent = content.textContent;

                const modal = this.createExportModal(title, textContent, content.innerHTML);
                document.body.appendChild(modal);
            }

            createExportModal(title, textContent, htmlContent) {
                const modal = document.createElement('div');
                modal.className = 'modal-overlay';
                modal.innerHTML = `
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Export Content</h3>
                            <button type="button" class="modal-close">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="export-options">
                                <div class="export-option">
                                    <label>
                                        <input type="radio" name="exportFormat" value="text" checked>
                                        <span>Plain Text (.txt)</span>
                                    </label>
                                </div>
                                <div class="export-option">
                                    <label>
                                        <input type="radio" name="exportFormat" value="html">
                                        <span>HTML Document (.html)</span>
                                    </label>
                                </div>
                                <div class="export-option">
                                    <label>
                                        <input type="radio" name="exportFormat" value="markdown">
                                        <span>Markdown (.md)</span>
                                    </label>
                                </div>
                                <div class="export-option">
                                    <label>
                                        <input type="radio" name="exportFormat" value="word">
                                        <span>Word Document (via HTML)</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="export-filename">
                                <label for="exportFilename">Filename:</label>
                                <input type="text" id="exportFilename" value="${title.replace(/[^a-z0-9]/gi, '_').toLowerCase()}" class="form-control">
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
                            <button type="button" class="btn btn-primary modal-confirm">Export</button>
                        </div>
                    </div>
                `;

                modal.querySelector('.modal-close').addEventListener('click', () => {
                    document.body.removeChild(modal);
                });

                modal.querySelector('.modal-cancel').addEventListener('click', () => {
                    document.body.removeChild(modal);
                });

                modal.querySelector('.modal-confirm').addEventListener('click', () => {
                    const format = modal.querySelector('input[name="exportFormat"]:checked').value;
                    const filename = modal.querySelector('#exportFilename').value;
                    this.performExport(format, filename, title, textContent, htmlContent);
                    document.body.removeChild(modal);
                });

                return modal;
            }

            performExport(format, filename, title, textContent, htmlContent) {
                let content, mimeType, extension;

                switch (format) {
                    case 'text':
                        content = textContent;
                        mimeType = 'text/plain';
                        extension = '.txt';
                        break;
                    case 'html':
                        content = `<!DOCTYPE html>
<html>
<head>
    <title>${title}</title>
    <meta charset="utf-8">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            margin: 40px; 
            background: #0a0a0a;
            color: #f8f6f0;
            line-height: 1.8;
        }
                        h1 { 
                            font-family: 'Playfair Display', serif;
                            color: #d4af37; 
                            font-size: 3rem;
                            margin-bottom: 2rem;
                            text-align: center;
                        }
                        .content { 
                            max-width: 800px;
                            margin: 0 auto;
                            line-height: 1.8;
                        }
                        .content p { margin-bottom: 1.5rem; }
                        .content img { max-width: 100%; height: auto; margin: 2rem 0; }
                        .preview-header {
                            text-align: center;
                            margin-bottom: 3rem;
                            padding-bottom: 2rem;
                            border-bottom: 2px solid #d4af37;
                        }
                    </style>
                </head>
                <body>
                    <div class="preview-header">
                        <h1>${title}</h1>
                        <p style="color: #8a8a8a;">Generated by Opinian AI</p>
                    </div>
                    <div class="content">${htmlContent}</div>
                </body>
            </html>`;
            mimeType = 'text/html';
            extension = '.html';
            break;
                    case 'markdown':
                        content = `# ${title}\n\n${this.htmlToMarkdown(htmlContent)}`;
                        mimeType = 'text/markdown';
                        extension = '.md';
                        break;
                    case 'word':
                        content = `<!DOCTYPE html>
<html>
<head>
    <title>${title}</title>
    <meta charset="utf-8">
    <!--[if gte mso 9]>
    <xml>
        <w:WordDocument>
            <w:View>Print</w:View>
            <w:Zoom>100</w:Zoom>
        </w:WordDocument>
    </xml>
    <![endif]-->
    <style>
        body { font-family: 'Times New Roman', serif; margin: 1in; }
        h1 { font-size: 16pt; font-weight: bold; margin-bottom: 12pt; }
        p { margin-bottom: 12pt; line-height: 1.15; }
    </style>
</head>
<body>
    <h1>${title}</h1>
    ${htmlContent}
</body>
</html>`;
                        mimeType = 'application/msword';
                        extension = '.doc';
                        break;
                }

                const blob = new Blob([content], { type: mimeType });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename + extension;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                this.showNotification(`${format.toUpperCase()} file exported successfully`, 'success');
            }

            htmlToMarkdown(html) {
                return html
                    .replace(/<h1[^>]*>(.*?)<\/h1>/gi, '# $1\n\n')
                    .replace(/<h2[^>]*>(.*?)<\/h2>/gi, '## $1\n\n')
                    .replace(/<h3[^>]*>(.*?)<\/h3>/gi, '### $1\n\n')
                    .replace(/<p[^>]*>(.*?)<\/p>/gi, '$1\n\n')
                    .replace(/<strong[^>]*>(.*?)<\/strong>/gi, '**$1**')
                    .replace(/<b[^>]*>(.*?)<\/b>/gi, '**$1**')
                    .replace(/<em[^>]*>(.*?)<\/em>/gi, '*$1*')
                    .replace(/<i[^>]*>(.*?)<\/i>/gi, '*$1*')
                    .replace(/<a[^>]*href="([^"]*)"[^>]*>(.*?)<\/a>/gi, '[$2]($1)')
                    .replace(/<img[^>]*src="([^"]*)"[^>]*alt="([^"]*)"[^>]*>/gi, '![$2]($1)')
                    .replace(/<br\s*\/?>/gi, '\n')
                    .replace(/<[^>]*>/g, '')
                    .trim();
            }

            useInEditor() {
                const content = this.container.querySelector('#generatedContent .content-body');
                const title = this.container.querySelector('#generatedContent h4')?.textContent || '';
                
                if (content && window.blogEditor) {
                    window.blogEditor.titleInput.value = title;
                    window.blogEditor.editor.innerHTML = content.innerHTML;
                    window.blogEditor.updateWordCount();
                    window.blogEditor.markAsDirty();
                    
                    if (!window.location.pathname.includes('editor')) {
                        window.location.href = '/editor.html';
                    }
                    
                    this.showNotification('Content loaded in editor', 'success');
                } else {
                    this.showNotification('Editor not available', 'error');
                }
            }

            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (document.body.contains(notification)) {
                            document.body.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }

            onPromptTypeChange(promptId) {
                if (promptId) {
                    this.container.querySelector('#enhanceBtn').disabled = false;
                } else {
                    this.container.querySelector('#enhanceBtn').disabled = true;
                }
            }

            async enhanceContent() {
                const currentContent = window.blogEditor?.editor?.innerHTML;
                if (!currentContent) {
                    this.showNotification('No content to enhance', 'warning');
                    return;
                }

                this.showGenerationStatus(true);

                try {
                    // Simulate enhancement
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    const enhancedContent = this.generateMockContent('content-enhancement', 'existing content', 'noir', 'medium', 'general');
                    
                    this.displayGeneratedContent(enhancedContent);
                    this.enableResultActions();
                } catch (error) {
                    console.error('Enhancement error:', error);
                    this.showNotification('Failed to enhance content', 'error');
                } finally {
                    this.showGenerationStatus(false);
                }
            }
        }
    </script>
</body>
</html>